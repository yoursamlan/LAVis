<!DOCTYPE html>
<html>
	<head>
		<!--script src="js/removeBanner.js"></script-->
		<title>LAVis|3.0 by Amlan</title>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
		<link rel="stylesheet" href="lorenz.css"/>
		<script src="js/lorenz.js" defer></script>
		<script src="js/test.js" defer></script>
		<script src="js/controls.js" defer></script>
		<script src="js/main.js" defer></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	</head>
	<body>
		<div id="menu">
			<div id="header">
				<img src="logo.png">
				<h1>LAVis 3.0 [beta]</h1>
				<!--h4>LORENZ ATTRACTOR VISUALIZER BY</h4-->
				<h2>Amlan Saha Kundu</h2>
				<!--input id="btnH" type="button" value="h" onclick="input(h);"-->
			</div>
			<div id="controls">
				<div id="chead">
					<h3 style="text-align:center;">
						CONTROLS
					</h3>
					<li>&nbsp;</li>
					<!--a href="./lite/index.html">
						<button class="btn success">Lite Mode</button-->
				</div>
				</a>
				<ul style="margin-left: 100px;">
					<li>
						OPTION &nbsp;&nbsp;
						<select id="preset">
							<option disabled selected> -- click here to select-- </option>
							<option value="chaos">Initialize</option>
							<option value="gentle">Visualization</option>
						</select>
					</li>
					<li>&nbsp;</li>
					<li>
						<input id="length" type="range" min="2" max="15" step="1"/>
						<label>Tail length = <span id="length-label"></span></label>
					</li>
					<li>
						<input id="sigma" type="range" min="-1" max="20" step="0.01"/>
						<label>&sigma; = <span id="sigma-label"></span></label>
					</li>
					<li>
						<input id="beta" type="range" min="0" max="20" step="0.01"/>
						<label>&beta; = <span id="beta-label"></span></label>
					</li>
					<li>
						<input id="rho" type="range" min="0" max="300" step="0.01"/>
						<label>&rho; = <span id="rho-label"></span></label>
					</li>
				</ul>
				<!--ul>
					<!--li><h2 id="hfunc">MOUSE & KEYBOARD </h2></li>
					<li><kbd id="kbdi"></kbd>
					<label>( left-click + drag )  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </label><label id="func">Rotate X-Y axes</label>
					</li>
					<li><kbd id="kbdi"></kbd>
					<label>( middle-click + drag )  &nbsp;</label><label id="func"> Translate X-Y axes</label>
					</li>
					<li><kbd id="kbdi"></kbd>
					<label>( shift + click + drag )  &nbsp;&nbsp;&nbsp; </label><label id="func">Rotate / Translate Z axis</label>
					</li>
					<li><kbd id="kbdi"></kbd>
					<label> ( mousewheel )  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; </label><label id="func">Zoom in / Zoom out</label>
					</li>
					<li><kbd id="kbdi"></kbd>
					<label>( spacebar ) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><label id="func">Pause / Play</label>
					</li>
					<!--li><h2 id="hfunc">KEYBOARD ONLY </h2></li>
					<li>&nbsp;</li>
					<li><kbd id="kbdi">&nbsp;a</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Add solution with random initial value</label>
					</li>
					<!--li><kbd id="kbdi">c</kbd>
					<label>clone a solution with perturbation</label>
					</li>
					<li><kbd id="kbdi">&nbsp;x</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Clear all solutions</label>
					</li>
					<li><kbd id="kbdi"> F5</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Reset to Default</label>
					</li>
					<li><kbd id="kbdi">&nbsp;h</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Toggle head (point) visibility</label>
					</li>
					<li><kbd id="kbdi">&nbsp;[</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Decrease tail length</label>
					</li>
					<li><kbd id="kbdi">&nbsp;]</kbd>
					<label id="func"> &nbsp;&nbsp;&nbsp;&nbsp;Increase tail length</label>
					</li-->
				<h3 style="text-align:center;
					padding-left: 00px;
					margin-left: 0px;">
					Real time Solution
				</h3>
				<ul style="text-align:center;
					margin: 20px;">
					<li>x = &nbsp;<b id="output_x"></b></li>
					<li>y = &nbsp;<b id="output_y"></b></li>
					<li>z = &nbsp;<b id="output_z"></b></li>
					<li>&nbsp;</li>
					<li>
					</li>
				</ul>
			</div>
			<!--div id="stats"></div-->
			<div class="wrapper" style="position: fixed;
				width: 50%;
				bottom: 0px;">
				<div id="chart"></div>
				<script>
					var layout = {
                    color: '#ffffff',
                    title: {
                    text:'Real Time x,y,z vs t Graph for Lorenz Equation',
                    font: {
                    color: 'wheat'}},
                    xaxis: {
                    title: 'Time(t) --> ',
                    color: '#ffffff'},
                    yaxis: {
                    color: '#ffffff'},
					autosize: false,
					width: 600,
					height: 300,
					margin: {
					l: 20,
					r: 10,
					b: 20,
					t: 25,
					pad: 0,
					},
					paper_bgcolor: '#010101',
					plot_bgcolor: '#000000'
					};
					
					
					function getDatax() {
					return Number(document.getElementById("output_x").innerHTML);
					}
					
					function getDatay() {
					return Number(document.getElementById("output_y").innerHTML);
					}
					
					function getDataz() {
					return Number(document.getElementById("output_z").innerHTML);
					}
					Plotly.plot('chart', [{
					y: [getDatax(), getDatax(), getDatax(), getDatax(), getDatax(), getDatax()],
					type: 'line',
                    name: 'x',
                    color:'#ffffff',
					},
					        
					{
					y: [getDatay(), getDatay(), getDatay(), getDatay(), getDatay()],
					type: 'line',
                    name: 'y',
                    font: {
                        color: '#fff'
                    },
					},
					{
					y: [getDataz(), getDataz(), getDataz(), getDataz(), getDataz()],
					type: 'line',
                    name: 'z'
					}],layout);
					var cnt = 0;
					setInterval(function() {
					Plotly.extendTraces('chart', {
					y: [
					[getDatax()]
					]
					}, [0]);
					Plotly.extendTraces('chart', {
					y: [
					[getDatay()]
					]
					}, [1]);
					Plotly.extendTraces('chart', {
					y: [
					[getDataz()]
					]
					}, [2]);
					cnt++;
					if (cnt > 500) {
					Plotly.relayout('chart', {
					xaxis: {
					range: [cnt - 500, cnt]
					}
					});
					}
					}, 15);
				</script>
			</div>
		</div>
		<canvas id="lorenz"></canvas>
	</body>
</html>
